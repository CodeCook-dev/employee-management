<div class="employee-list-view">
  <!-- Current Employees Section -->
  <section class="employee-section" *ngIf="getCurrentEmployees().length > 0">
    <div class="employee-section-header">
      <h2>Current employees</h2>
    </div>
    <div class="employee-list">
      <div
        *ngFor="let employee of getCurrentEmployees()"
        class="employee-card current"
        [class.swiped]="isCardSwiped(employee.id)"
        (touchstart)="onTouchStart($event, employee.id)"
        (touchmove)="onTouchMove($event, employee.id)"
        (touchend)="onTouchEnd($event, employee.id)"
      >
        <div class="employee-card-content">
          <div class="employee-info" (click)="showEditEmployee(employee)">
            <h3>{{ employee.name }}</h3>
            <p class="role">{{ employee.role }}</p>
            <p class="dates">From {{ formatDate(employee.startDate) }}</p>
          </div>
          <!-- Show delete button only on mobile when swiped -->
          <button
            class="employee-actions delete-btn"
            (click)="deleteEmployee(employee); $event.stopPropagation()"
          >
            <app-delete-icon
              width="25"
              height="24"
              fill="white"
            ></app-delete-icon>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Previous Employees Section -->
  <section class="employee-section" *ngIf="getPreviousEmployees().length > 0">
    <div class="employee-section-header">
      <h2>Previous employees</h2>
    </div>
    <div class="employee-list">
      <div
        *ngFor="let employee of getPreviousEmployees()"
        class="employee-card previous"
        [class.swiped]="isCardSwiped(employee.id)"
        (touchstart)="onTouchStart($event, employee.id)"
        (touchmove)="onTouchMove($event, employee.id)"
        (touchend)="onTouchEnd($event, employee.id)"
      >
        <div class="employee-card-content">
          <div class="employee-info" (click)="showEditEmployee(employee)">
            <h3>{{ employee.name }}</h3>
            <p class="role">{{ employee.role }}</p>
            <p class="dates">
              {{ formatDate(employee.startDate) }} -
              {{ formatDate(employee.endDate) }}
            </p>
          </div>
          <!-- Show delete button only on mobile when swiped -->
          <button
            class="employee-actions delete-btn"
            (click)="deleteEmployee(employee); $event.stopPropagation()"
          >
            <app-delete-icon
              width="25"
              height="24"
              fill="white"
            ></app-delete-icon>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Empty State -->
  <div *ngIf="employees.length === 0" class="empty-state">
    <div>
      <img
        src="assets/img/404.png"
        alt="No employees illustration"
        width="262"
        height="219"
      />
    </div>
    <h3>No employee records found</h3>
  </div>

  <!-- Add Employee Button -->
  <button
    class="add-employee-btn"
    [class.showDeleteConfirmation]="showDeleteConfirmation"
    (click)="showAddEmployee()"
  >
    <app-add-icon
      width="18"
      height="18"
      viewBox="0 0 18 18"
      fill="white"
    ></app-add-icon>
  </button>

  <!-- Sticky Footer Bar -->
  <div *ngIf="isMobile && employees.length > 0" class="sticky-footer">
    <span class="footer-text">Swipe left to delete</span>
  </div>
</div>

<!-- Delete Confirmation Toast -->
<div *ngIf="showDeleteConfirmation" class="toast-notification">
  <span>Employee data has been deleted</span>
  <button class="undo-btn" (click)="undoDelete()">Undo</button>
</div>
